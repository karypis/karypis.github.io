<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>BDMPI - Big Data Message Passing Interface: API Documentation</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BDMPI - Big Data Message Passing Interface
   &#160;<span id="projectnumber">Release 0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d8/daa/api.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">API Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#mpiapi">MPI functions supported by BDMPI</a></li>
<li class="level1"><a href="#bdmpiapi">BDMPI-specific functions</a><ul><li class="level2"><a href="#bdmpicomm">Communicator-related functions</a></li>
<li class="level2"><a href="#bdmpimutex">Intra-slave synchronization</a></li>
<li class="level2"><a href="#bdmpisbmalloc">Storage-backed memory allocations</a></li>
</ul>
</li>
<li class="level1"><a href="#communicators">Predefined communicators</a></li>
<li class="level1"><a href="#datatypes">Supported datatypes</a></li>
<li class="level1"><a href="#reductions">Supported reduction operations</a></li>
</ul>
</div>
<div class="textblock"><p>BDMPI programs are message-passing distributed memory parallel programs written using a subset of MPI's API. As such, BDMPI program development is nearly identical to developing MPI-based parallel programs. There are many online resources providing guidelines and documentation for developing MPI-based programs, all of which apply for BDMPI as well.</p>
<p>Though it is beyond the scope of this documentation to provide a tutorial on how to develop MPI programs, the following is a list of items that anybody using BDMPI should be aware off:</p>
<ul>
<li>BDMPI supports programs written in C and C++.<ul>
<li>Our own testing was done using C-based BDMPI programs, and as such the C++ support has not been tested.</li>
</ul>
</li>
<li>All BDMPI programs must include the <code>mpi.h</code> or <code>bdmpi.h</code> header file and must call <code>MPI_Init()</code> and <code>MPI_Finalize()</code> before and after finishing with their work.<ul>
<li>Ideally, <code>MPI_Init()</code> and <code>MPI_Finalize()</code> should be the first and last functions called in the <code>main()</code>, respectively.</li>
</ul>
</li>
<li>All BDMPI programs should exit from their <code>main()</code> function by returning <code>EXIT_SUCCESS</code>.</li>
</ul>
<hr/>
 <h1><a class="anchor" id="mpiapi"></a>
MPI functions supported by BDMPI</h1>
<p>BDMPI implements a subset of the MPI specification that includes functions for querying and creating communicators and for performing point-to-point and collective communications. For each of these functions, BDMPI provides a variant that starts with the <code>MPI_</code> prefix and a variant that starts with the <code>BDMPI_</code> prefix. The calling sequence of the first variant is identical to the MPI specification whereas the calling sequence of the second variant has been modified to make it 64-bit compliant (e.g., replaced most of the sizes that MPI assumed that were <code>int</code> to either <code>size_t</code> or <code>ssize_t</code>).</p>
<p>Since the calling sequence of these functions is the same as that specified in MPI's specification (available at <a href="http://www.mpi-forum.org">http://www.mpi-forum.org</a>) it is not included here.</p>
<ul>
<li><a class="el" href="../../de/d91/group__mpiapilist.html">List of implemented MPI functions</a>.</li>
</ul>
<h4>Differences with the MPI specification</h4>
<ul>
<li>BDMPI's error checking and error reporting are significantly less robust than what the standard requires.</li>
<li>In all collective operations, the source and destination buffers of the operations are allowed to overlap (or be identical). In such cases, the operations will complete correctly and the new data will overwrite the old data.</li>
</ul>
<hr/>
 <h1><a class="anchor" id="bdmpiapi"></a>
BDMPI-specific functions</h1>
<p>BDMPI provides a small set of additional functions that an application can use to improve its out-of-core execution performance and get information about how the different MPI slave processes are distributed among the nodes. Since these functions are not part of the MPI specification, their names only start with the <code>BDMPI_</code> prefix.</p>
<p>These functions are organized in three main groups that are described in the following subsections.</p>
<h2><a class="anchor" id="bdmpicomm"></a>
Communicator-related functions</h2>
<p>Since BDMPI organizes the MPI processes into groups of slave processes, each running on a different node, it is sometimes beneficial for the application to know how many slaves within a communicator are running on the same node and the total number of nodes that is involved. To achieve this, BDMPI provides a set of functions that can be used to <em>interrogate</em> each communicator in order to obtain information that relates to the number of slaves per node, the rank of a process among the other processes in its own node, the number of nodes, and their ranks.</p>
<ul>
<li><a class="el" href="../../df/dc8/group__bdmpicommlist.html">Functions for further communicator interrogation</a>.</li>
</ul>
<p>In addition, BDMPI defines some additional predefined communicators that are used to describe the processes of each node. These are described in <a class="el" href="../../d8/daa/api.html#communicators">Predefined communicators</a>.</p>
<h2><a class="anchor" id="bdmpimutex"></a>
Intra-slave synchronization</h2>
<p>On a system with a quad core processor it may be reasonable to allow 3-4 slaves to run concurrently. However, if that system's I/O subsystem consisted of only a single disk, then in order to prevent I/O contention, it may be beneficial to limit the number of slaves that perform I/O. To achieve such a synchronization, BDMPI provides a set of functions that can be used to implement mutex-like synchronization among the processes running on the same slave node. The number of slave processes that can be at a critical section concurrently is controlled by the <code>-nc</code> option of <code>bdmprun</code> (<a class="el" href="../../d6/d89/running.html#bdmprun">Options of bdmprun</a>).</p>
<ul>
<li><a class="el" href="../../d2/d06/group__bdmpimutexlist.html">Functions for critical sections</a>.</li>
</ul>
<h2><a class="anchor" id="bdmpisbmalloc"></a>
Storage-backed memory allocations</h2>
<p>BDMPI exposes various functions that relate to its sbmalloc subsystem (<a class="el" href="../../d1/dfb/intro.html#sbmalloc">Efficient loading &amp; saving of a process's address space</a>). An application can use these functions to explicitly allocate sbmalloc-handled memory and to also force loading/saving of memory regions that were previously allocated by sbmalloc (see the discussion in <a class="el" href="../../d4/d13/troubleshooting.html#tb_sbmalloc">Issues related to sbmalloc</a>).</p>
<ul>
<li><a class="el" href="../../d8/dce/group__bdmpisbmalloclist.html">Functions for storage-backed memory allocation</a></li>
</ul>
<hr/>
 <h1><a class="anchor" id="communicators"></a>
Predefined communicators</h1>
<p>The following are the communicators that are predefined in BDMPI. Note that both the ones with the <code>MPI_</code> and the <code>BDMPI_</code> prefix are defined.</p>
<table class="doxtable">
<tr>
<th align="left">MPI Name </th><th align="left">BDMPI Name </th><th align="left">Description  </th></tr>
<tr>
<td align="left"><code>MPI_COMM_WORLD</code> </td><td align="left"><code>BDMPI_COMM_WORLD</code> </td><td align="left">Contains all processes </td></tr>
<tr>
<td align="left"><code>MPI_COMM_SELF</code> </td><td align="left"><code>BDMPI_COMM_SELF</code> </td><td align="left">Contains only the calling process </td></tr>
<tr>
<td align="left"><code>MPI_COMM_NULL</code> </td><td align="left"><code>BDMPI_COMM_NULL</code> </td><td align="left">A null group </td></tr>
<tr>
<td align="left">N/A </td><td align="left"><code>BDMPI_COMM_NODE</code> </td><td align="left">Contains all processes in a node </td></tr>
<tr>
<td align="left">N/A </td><td align="left"><code>BDMPI_COMM_CWORLD</code> </td><td align="left">Contains all processes in cyclic order </td></tr>
</table>
<p>The last two communicators are BDMPI specific. <code>BDMPI_COMM_NODE</code> is used to describe the group of slave processes that were spawned by the same master process (i.e., <code>bdmprun</code>). Unless multiple instances of <code>bdmprun</code> was started on a single node, these processes will be the ones running on a node for the program.</p>
<p>The ranks of the processes in the <code>MPI_COMM/WORLD/BDMPI_COMM_WORLD</code> communicator are ordered in increasing order based on the rank of the hosts specified in <code>mpiexec's</code> <code>hostfile</code> and the number of slaves spawned by <code>bdmprun</code>. For example, the execution of the <code>helloworld</code> program (see <a class="el" href="../../d6/d89/running.html">Running BDMPI Programs</a>):</p>
<pre class="fragment">mpiexec -hostfile ~/machines -np 3 bdmprun -ns 4 build/Linux-x86_64/test/helloworld
</pre><p>with the hostfile:</p>
<div class="fragment"><div class="line">bd1-umh:1</div>
<div class="line">bd2-umh:1</div>
<div class="line">bd3-umh:1</div>
<div class="line">bd4-umh:1</div>
</div><!-- fragment --><p>will create an <code>MPI_COMM_WORLD/BDMPI_COMM_WORLD</code> communicator in which the processes with ranks 0&ndash;3 are the slave processes on <code>bd1-umh</code>, ranks 4&ndash;7 are the slave processes on <code>bd2-umh</code>, and ranks 8&ndash;11 are the slave processes on <code>bd3-umh</code>. The <code>BDMPI_COMM_CWORLD</code> communicator also includes all processes but assignes ranks in a cyclic fashion based on the hosts specified in <code>mpiexec's</code> hostfile. For example, the ranks of the four slaves on <code>bd1-umh</code> for the above <code>helloworld</code> execution will be 0, 3, 6, and 9; on <code>bd2-umh</code> will be 1, 4, 7, and 10; and on <code>bd3-umh</code> will be 2, 5, 8, and 11.</p>
<hr/>
 <h1><a class="anchor" id="datatypes"></a>
Supported datatypes</h1>
<p>The following are the datatypes that are predefined in BDMPI. Note that both the ones with the <code>MPI_</code> and the <code>BDMPI_</code> prefix are defined.</p>
<table class="doxtable">
<tr>
<th align="left">MPI Name </th><th align="left">BDMPI Name </th><th align="left">C equivalent  </th></tr>
<tr>
<td align="left"><code>MPI_CHAR</code> </td><td align="left"><code>BDMPI_CHAR</code> </td><td align="left"><code>char</code> </td></tr>
<tr>
<td align="left"><code>MPI_SIGNED_CHAR</code> </td><td align="left"><code>BDMPI_SIGNED_CHAR</code> </td><td align="left"><code>signed char</code> </td></tr>
<tr>
<td align="left"><code>MPI_UNSIGNED_CHAR</code> </td><td align="left"><code>BDMPI_UNSIGNED_CHAR</code> </td><td align="left"><code>unsigned char</code> </td></tr>
<tr>
<td align="left"><code>MPI_BYTE</code> </td><td align="left"><code>BDMPI_BYTE</code> </td><td align="left"><code>unsigned char</code> </td></tr>
<tr>
<td align="left"><code>MPI_WCHAR</code> </td><td align="left"><code>BDMPI_WCHAR</code> </td><td align="left"><code>wchar_t</code> </td></tr>
<tr>
<td align="left"><code>MPI_SHORT</code> </td><td align="left"><code>BDMPI_SHORT</code> </td><td align="left"><code>short</code> </td></tr>
<tr>
<td align="left"><code>MPI_UNSIGNED_SHORT</code> </td><td align="left"><code>BDMPI_UNSIGNED_SHORT</code> </td><td align="left"><code>unsigned short</code> </td></tr>
<tr>
<td align="left"><code>MPI_INT</code> </td><td align="left"><code>BDMPI_INT</code> </td><td align="left"><code>int</code> </td></tr>
<tr>
<td align="left"><code>MPI_UNSIGNED</code> </td><td align="left"><code>BDMPI_UNSIGNED</code> </td><td align="left"><code>unsigned int</code> </td></tr>
<tr>
<td align="left"><code>MPI_LONG</code> </td><td align="left"><code>BDMPI_LONG</code> </td><td align="left"><code>long</code> </td></tr>
<tr>
<td align="left"><code>MPI_UNSIGNED_LONG</code> </td><td align="left"><code>BDMPI_UNSIGNED_LONG</code> </td><td align="left"><code>unsigned long</code> </td></tr>
<tr>
<td align="left"><code>MPI_LONG_LONG_INT</code> </td><td align="left"><code>BDMPI_LONG_LONG_INT</code> </td><td align="left"><code>long long int</code> </td></tr>
<tr>
<td align="left"><code>MPI_UNSIGNED_LONG_LONG</code> </td><td align="left"><code>BDMPI_UNSIGNED_LONG_LONG</code> </td><td align="left"><code>unsigned long long int</code> </td></tr>
<tr>
<td align="left"><code>MPI_INT8_T</code> </td><td align="left"><code>BDMPI_INT8_T</code> </td><td align="left"><code>int8_t</code> </td></tr>
<tr>
<td align="left"><code>MPI_UINT8_T</code> </td><td align="left"><code>BDMPI_UINT8_T</code> </td><td align="left"><code>uint8_t</code> </td></tr>
<tr>
<td align="left"><code>MPI_INT16_T</code> </td><td align="left"><code>BDMPI_INT16_T</code> </td><td align="left"><code>int16_t</code> </td></tr>
<tr>
<td align="left"><code>MPI_UINT16_T</code> </td><td align="left"><code>BDMPI_UINT16_T</code> </td><td align="left"><code>uint16_t</code> </td></tr>
<tr>
<td align="left"><code>MPI_INT32_T</code> </td><td align="left"><code>BDMPI_INT32_T</code> </td><td align="left"><code>int32_t</code> </td></tr>
<tr>
<td align="left"><code>MPI_UINT32_T</code> </td><td align="left"><code>BDMPI_UINT32_T</code> </td><td align="left"><code>uint32_t</code> </td></tr>
<tr>
<td align="left"><code>MPI_INT64_T</code> </td><td align="left"><code>BDMPI_INT64_T</code> </td><td align="left"><code>int64_t</code> </td></tr>
<tr>
<td align="left"><code>MPI_UINT64_T</code> </td><td align="left"><code>BDMPI_UINT64_T</code> </td><td align="left"><code>uint64_t</code> </td></tr>
<tr>
<td align="left"><code>MPI_SIZE_T</code> </td><td align="left"><code>BDMPI_SIZE_T</code> </td><td align="left"><code>size_t</code> </td></tr>
<tr>
<td align="left"><code>MPI_SSIZE_T</code> </td><td align="left"><code>BDMPI_SSIZE_T</code> </td><td align="left"><code>ssize_t</code> </td></tr>
<tr>
<td align="left"><code>MPI_FLOAT</code> </td><td align="left"><code>BDMPI_FLOAT</code> </td><td align="left"><code>float</code> </td></tr>
<tr>
<td align="left"><code>MPI_DOUBLE</code> </td><td align="left"><code>BDMPI_DOUBLE</code> </td><td align="left"><code>double</code> </td></tr>
<tr>
<td align="left"><code>MPI_FLOAT_INT</code> </td><td align="left"><code>BDMPI_FLOAT_INT</code> </td><td align="left"><code>struct {float, int}</code> </td></tr>
<tr>
<td align="left"><code>MPI_DOUBLE_INT</code> </td><td align="left"><code>BDMPI_DOUBLE_INT</code> </td><td align="left"><code>struct {double, int}</code> </td></tr>
<tr>
<td align="left"><code>MPI_LONG_INT</code> </td><td align="left"><code>BDMPI_LONG_INT</code> </td><td align="left"><code>struct {long, int}</code> </td></tr>
<tr>
<td align="left"><code>MPI_SHORT_INT</code> </td><td align="left"><code>BDMPI_SHORT_INT</code> </td><td align="left"><code>struct {short, int}</code> </td></tr>
<tr>
<td align="left"><code>MPI_2INT</code> </td><td align="left"><code>BDMPI_2INT</code> </td><td align="left"><code>struct {int, int}</code> </td></tr>
</table>
<hr/>
 <h1><a class="anchor" id="reductions"></a>
Supported reduction operations</h1>
<p>The following are the reduction operations that are supported by BDMPI. Note that both the ones with the <code>MPI_</code> and the <code>BDMPI_</code> prefix are defined.</p>
<table class="doxtable">
<tr>
<th align="left">MPI Name </th><th align="left">BDMPI Name </th><th align="left">Description  </th></tr>
<tr>
<td align="left"><code>MPI_OP_NULL</code> </td><td align="left"><code>BDMPI_OP_NULL</code> </td><td align="left">null </td></tr>
<tr>
<td align="left"><code>MPI_MAX</code> </td><td align="left"><code>BDMPI_MAX</code> </td><td align="left">max reduction </td></tr>
<tr>
<td align="left"><code>MPI_MIN</code> </td><td align="left"><code>BDMPI_MIN</code> </td><td align="left">min reduction </td></tr>
<tr>
<td align="left"><code>MPI_SUM</code> </td><td align="left"><code>BDMPI_SUM</code> </td><td align="left">sum reduction </td></tr>
<tr>
<td align="left"><code>MPI_PROD</code> </td><td align="left"><code>BDMPI_PROD</code> </td><td align="left">prod reduction </td></tr>
<tr>
<td align="left"><code>MPI_LAND</code> </td><td align="left"><code>BDMPI_LAND</code> </td><td align="left">logical and reduction </td></tr>
<tr>
<td align="left"><code>MPI_BAND</code> </td><td align="left"><code>BDMPI_BAND</code> </td><td align="left">boolean and reduction </td></tr>
<tr>
<td align="left"><code>MPI_LOR</code> </td><td align="left"><code>BDMPI_LOR</code> </td><td align="left">logical or reduction </td></tr>
<tr>
<td align="left"><code>MPI_BOR</code> </td><td align="left"><code>BDMPI_BOR</code> </td><td align="left">boolean or reduction </td></tr>
<tr>
<td align="left"><code>MPI_LXOR</code> </td><td align="left"><code>BDMPI_LXOR</code> </td><td align="left">logical xor reduction </td></tr>
<tr>
<td align="left"><code>MPI_BXOR</code> </td><td align="left"><code>BDMPI_BXOR</code> </td><td align="left">boolean xor reduction </td></tr>
<tr>
<td align="left"><code>MPI_MAXLOC</code> </td><td align="left"><code>BDMPI_MAXLOC</code> </td><td align="left">max value and location reduction </td></tr>
<tr>
<td align="left"><code>MPI_MINLOC</code> </td><td align="left"><code>BDMPI_MINLOC</code> </td><td align="left">min value and location reduction </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Apr 21 2014 14:23:11 for BDMPI - Big Data Message Passing Interface by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
