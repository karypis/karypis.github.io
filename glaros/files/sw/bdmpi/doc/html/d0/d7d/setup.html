<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>BDMPI - Big Data Message Passing Interface: Setting up BDMPI</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BDMPI - Big Data Message Passing Interface
   &#160;<span id="projectnumber">Release 0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d0/d7d/setup.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Setting up BDMPI </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#requirements">System requirements</a></li>
<li class="level1"><a href="#config">System configuration</a></li>
<li class="level1"><a href="#install">Building and installing BDMPI</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="requirements"></a>
System requirements</h1>
<p>BDMPI has been developed to run on Linux systems. It can potentially run on non-Linux systems as long as they support POSIX inter-processor communication constructs. However, it has not been tested on anything else other than Linux. Besides the OS, the following software packages are required in order to build and use BDMPI:</p>
<ol type="1">
<li>GCC 4.x or higher (<a href="http://gnu.gcc.org">http://gnu.gcc.org</a>).</li>
<li>CMake 2.8 or higher (<a href="http://www.cmake.org">http://www.cmake.org</a>).</li>
<li>MPICH 3.0.4 or higher (<a href="http://www.mpich.org">http://www.mpich.org</a>).</li>
<li>Perl 5 or higher (<a href="http://www.perl.org">http://www.perl.org</a>).</li>
</ol>
<p>All of the above packages are available for most Linux distributions as installable packages. Note that BDMPI has not been tested with OpenMPI, though in principle, it should work with it.</p>
<p>In terms of hardware, the systems on which BDMPI is running should have enough local storage. Note that even though BDMPI can use a network attached file system for temporary storage, its performance may degrade.</p>
<hr/>
 <h1><a class="anchor" id="config"></a>
System configuration</h1>
<p>In order to execute BDMPI programs on a single workstation or a cluster of workstations, the underlying system must be configured to execute MPI jobs. Before trying to run any BDMPI programs follow the instructions in MPICH's documentation on how to setup the system for running MPI jobs. This usually involves enabling password-less ssh remote process execution and setting up a shared file system.</p>
<p>In addition, the following system configuration parameters need to be modified (the names of the files discussed are valid for at least the Ubuntu 12.04.4 LTS distribution):</p>
<ol type="1">
<li>Increase the <code>nofile</code>, <code>msgqueue</code>, and <code>memlock</code> process limits in the <code>/etc/security/limits.conf</code> file. Specifically, you should add the following limits: <pre class="fragment">*       soft    nofile          1000000
*       hard    nofile          1000000
*       soft    msgqueue        unlimited
*       hard    msgqueue        unlimited
*       soft    memlock         1048576
*       hard    memlock         1048576
</pre> Note that the limit for the <code>memlock</code> parameter can be adjusted up or down based on the available memory in your system. However, you should probably leave at least 1GB of non-lockable memory.</li>
<li>Increase the number of default POSIX message queues. This is done by modifying the <code>/etc/sysctl.conf</code> file to add/modify the following lines: <pre class="fragment">msg_default     512
msg_max         1024
msgsize_default 256
msgsize_max     512
queues_max      1024
</pre> Besides directly editing the <code>/etc/sysctl.conf</code> file, the above changes can also be done by executing the following commands: <pre class="fragment">sudo sysctl fs.mqueue.msg_default=512
sudo sysctl fs.mqueue.msg_max=1024
sudo sysctl fs.mqueue.msgsize_default=256
sudo sysctl fs.mqueue.msgsize_max=512
sudo sysctl fs.mqueue.queues_max=1024
</pre> Note that if your system is already configured with higher values for any of the above parameters, you should not change them.</li>
<li>Increase the size of the swap file as it will be used for storing the data of the slave processes that are blocked. The size of the swap file depends on the size of the jobs that will be run, the extent to which you allow BDMPI to use its own <a class="el" href="../../d1/dfb/intro.html#sbmalloc">storage backed memory allocation</a>, and the extent to which your program explicitly manages the size of its memory resident data (e.g., by relying on explicit out-of-core execution). Further details about these three cases are provided in <a class="el" href="../../d1/dfb/intro.html#bdmpimodels">Execution &amp; memory model</a>.</li>
</ol>
<hr/>
 <h1><a class="anchor" id="install"></a>
Building and installing BDMPI</h1>
<p>BDMPI is distributed as a source package, which needs to be compiled and installed on the systems that it will run. BDMPI's uses <code>CMake</code> to generate the various system-specific <code>Makefiles</code> for building it. Instructions on how to use <code>cmake</code> are provided in the  BUILD.txt file, which is included verbatim here:</p>
<pre class="fragment">------------------------------------------------------------------------------
Building BDMPI requires CMake 2.8, found at http://www.cmake.org/, as
well as GNU make. Assumming CMake and GNU make are installed, two
commands should suffice to build BDMPI:

     $ make config
     $ make


Configuration
-------------
BDMPI is primarily configured by passing options to make config. For
example:

     $ make config cc=gcc-4.2

would configure BDMPI to be built using GCC 4.2.

Common configuration options are:
  cc=[compiler]   - The C compiler to use [default is determined by CMake]
  prefix=[PATH]   - Set the installation prefix [/usr/local/ by default]

Advanced debugging related options:
  gdb=1       - Build with support for GDB [off by default]
  debug=1     - Enable debugging support [off by default]
  assert=1    - Enable asserts [off by default]



Installation
------------
To install BDMPI, run

    $ make install

The default installation prefix is /usr/local. To pick an installation 
prefix for BDMPI pass prefix=[path] to make config. For example,

    $ make config prefix=~/local

will cause BDMPI to be installed in ~/local when make install is run.


Other make commands
-------------------
   $ make uninstall 
          Removes all files installed by 'make install'.
   
   $ make clean 
          Removes all object files but retains the configuration options.
   
   $ make distclean 
          Performs clean and completely removes the build directory.

------------------------------------------------------------------------------
</pre> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Apr 21 2014 14:23:11 for BDMPI - Big Data Message Passing Interface by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
